---
title: 第一部分 作用域和闭包
tags: JavaScript
categories: 你不知道的JavaScript（上卷）
abbrlink: 107d86cd
date: 2020-04-21 11:50:25
---
几乎所有编程语言最基本的功能之一，就是能够储存变量当中的值，并且能在之后对这个值进行访问或修改。事实上，正是这种储存和访问变量的值的能力将状态带给了程序。作用域：一套设计良好的规则来存储变量，并且之后可以方便地找到这些变量。
<!-- more -->
## 作用域是什么

### 编译原理

传统编译语言的流程中，程序中的一段源代码在执行之前会经历三个步骤，统称为“编译”。

{% blockquote %}

- 分词/词法分析（Tokenizing/Lexing）:将由字符组成的字符串分解成（对编程语言来说）有意义的代码块，这些代码块被称为词法单元（token）。
- 解析/语法分析（Parsing）:将词法单元流（数组）转换成一个由元素逐级嵌套所组成的代表了程序语法结构的树——抽象语法树（Abstract Syntax Tree，AST）。
- 代码生成:将 AST 转换为可执行代码的过程
{% endblockquote %}

### 引擎、编译器、作用域

- 引擎：从头到尾负责整个 JavaScript 程序的编译及执行过程。
- 编译器：负责语法分析及代码生成等脏活累活（详见前一节的内容）。
- 作用域：负责收集并维护由所有声明的标识符（变量）组成的一系列查询，并实施一套非常严格的规则，确定当前执行的代码对这些标识符的访问权限。

